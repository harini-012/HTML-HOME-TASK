<!--
You want to check the weather of a city before planning a trip. This is an asynchronous task
because it requires fetching data from a remote API. Based on the weather response, the app
will display a message like:
• "Great weather! Perfect for a trip!"
• "Bad weather! Better to stay home."
Sample Output:
User enters a city name.
Fetch weather data → create an object with season and city --(simulated with setTimeout).
Based on the weather (Sunny, Rainy, etc.), display an appropriate message.
-->

<!DOCTYPE html>
<html>
<head>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<title>Weather Planner</title>
</head>
<body style="background:linear-gradient(to right, rgb(236, 111, 102), rgb(243, 161, 131));">

<h1 style="text-align:center;color:white;background-color:rgb(236, 111, 102)" class="p-5">Personal Metorologist</h1>
<center>
<img src="https://img.pikbest.com/templates/20211121/bg/0e1b29f5c2423708338dd4e3a17f35eb_117851.png!w700wp" class="m-5" style="width:1500px;height:500px">

<div class="card m-4 p-5 rounded-pill" style="background-color:pink;box-shadow:4px 8px 10px rgba(0,0,0,0.1);padding:5px;margin:10px;height:700px;color:#333">
	<h2 style="color:indigo">Plan your event with us</h2>
	<div class="card m-5 p-5" style="background-color:rgb(243, 161, 131)">
		<form class="form-horizontal">
		<label for="form-label" for="city"><strong>Enter your city name:</strong></label>
		<input type="text" name="city" id="city"><br><br><br>
		
		<button type="button" class="btn btn-success" style="width:300px" onclick="checkWeather()">Check Weather</button>
	</div>
	

<p id="p1"></p>
<script>
	 
	function result(city)
		{
			return new Promise((resolve)=>
			{
			setTimeout(()=>{
				const weather=["rainy","summer","winter","stromy"]
				const randomWeather=weather[Math.floor(Math.random()*weather.length)]
				const data=
				{
					"city":city,
					"weather":randomWeather,
				}
				resolve(data);
				},2000);
		})
		}
	
	async function checkWeather()
	{
		let city=document.getElementById("city").value.trim();
		const display=document.getElementById("p1")	
		if 	(city==="")
		{
			display.innerHTML="Please Enter valid city name"
			return
		}
		display.innerHTML="<h1><strong><p class='text-warning'>Fetching Details ...please wait</strong></p></h1>"
		try
		{
			const output=await result(city)
			if (output.weather==="summer")
			{
			display.innerHTML="<img src='https://miro.medium.com/v2/resize:fit:1400/0*1DtL639ZXJQj8ZDA.jpg ' style='height:200px;width:200px' class='rounded-circle'>"
			display.innerHTML+="<h2><p class='text-success'><strong>Perfect Weather for a trip..The season is Summer</strong></p></h2>";
			}
			else if(output.weather==="winter")
			{
			display.innerHTML="<img src='https://t3.ftcdn.net/jpg/02/98/03/22/360_F_298032209_YD4pFLDyzMyqBzso5xF5USR05hxqGuXf.jpg ' style='height:200px;width:200px' class='rounded-circle'>"
			
			display.innerHTML+="<h2><p class='text-info'><strong>A bit cool...Can plane short trips</strong></p></h2>"
			}
			else
			{
			display.innerHTML="<img src='https://thumbs.dreamstime.com/b/stromy-day-was-rainy-season-i-went-to-ati-bazar-keranigonj-my-friends-went-there-to-do-outdoor-study-96624958.jpg' style='height:200px;width:200px' class='rounded-circle'>"
			
			display.innerHTML+="<h2><p class='text-danger'><strong>No please avoid trip for time now ...The weather is rainy and sometimes stromy</strong></p></h2>"
			}
			
		}
		
		catch(error)
		
		{
			display.innerHTML=error
		}
	}
	
</script>
</div><br><br><br>
<footer>
<h1 style="text-align:center;color:white;background-color:rgb(236, 111, 102)" class="p-5">How will you benifitted from us?</h1><br>
<h4>
<li>Smart Trip Planning</li><br>
<li>Save Time & Effort</li><br>
<li> Stay Safe</li><br>
<li>Make Quick Decisions</li><br>
</h4>
</footer>
</body>
</html>